"use strict";(self.webpackChunk_playcanvas_blog=self.webpackChunk_playcanvas_blog||[]).push([[81248],{64965:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var n=a(74848),o=a(28453);const i={authors:"dave",slug:"playhack-november-camera-types",title:"PLAYHACK November - Camera types"},s=void 0,r={permalink:"/playhack-november-camera-types",editUrl:"https://github.com/playcanvas/blog/tree/main/blog/2014-11-05-playhack-november-camera-types.md",source:"@site/blog/2014-11-05-playhack-november-camera-types.md",title:"PLAYHACK November - Camera types",description:"As this is our first PLAYHACK we thought it would be sensible to start with a few tips and\xa0tutorials to get you going. We\u2019ll follow up with more of these throughout the week. Don\u2019t forget, these are just examples. You can make any game you like.",date:"2014-11-05T00:00:00.000Z",tags:[],readingTime:3.81,hasTruncateMarker:!1,authors:[{name:"Dave Evans",title:"CTO",url:"https://twitter.com/daredevildave",imageURL:"https://pbs.twimg.com/profile_images/1271233580430053376/-OHHBJ2Z_400x400.jpg",key:"dave"}],frontMatter:{authors:"dave",slug:"playhack-november-camera-types",title:"PLAYHACK November - Camera types"},unlisted:!1,prevItem:{title:"PLAYHACK November - Turrets and shooting bullets",permalink:"/playhack-november-turrets-and-shooting-bullets"},nextItem:{title:"PlayCanvas Referrals: Just a little Thank You",permalink:"/playcanvas-referrals-just-a-little-thank-you"}},l={authorsImageUrls:[void 0]},c=[{value:"Camera Types",id:"camera-types",level:2},{value:"Fixed Follow Camera",id:"fixed-follow-camera",level:3},{value:"Trailing Follow Camera",id:"trailing-follow-camera",level:3},{value:"Look At Camera",id:"look-at-camera",level:3},{value:"Script Attributes",id:"script-attributes",level:3},{value:"PLAYHACK",id:"playhack",level:3}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["As this is our first PLAYHACK we thought it would be sensible to start with a few tips and\xa0tutorials to get you going. We\u2019ll follow up with more of these throughout the week. Don\u2019t forget, these are just examples. You can make ",(0,n.jsx)(t.strong,{children:"any"})," game you like."]}),"\n",(0,n.jsx)(t.h2,{id:"camera-types",children:"Camera Types"}),"\n",(0,n.jsx)(t.p,{children:"This blog post is going to cover a few different types of camera. We're also going to cover Script Attributes, which lets you expose values into the\xa0Designer."}),"\n",(0,n.jsxs)(t.p,{children:["Try running the ",(0,n.jsx)(t.a,{href:"https://playcanvas.com/editor/scene/343245",children:"Follow Camera Pack"})," in this\xa0",(0,n.jsx)(t.a,{href:"https://playcanvas.com/project/331849/overview/playhacknov",children:"Project"}),"\xa0to see\xa0all this code in action.\xa0Use the arrow keys to move the tank and press the Spacebar to cycle between the different camera types."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:a(59971).A+"",children:(0,n.jsx)(t.img,{alt:"PlayCanvas",src:a(73333).A+"",width:"500",height:"500"})})}),"\n",(0,n.jsx)(t.h3,{id:"fixed-follow-camera",children:"Fixed Follow Camera"}),"\n",(0,n.jsxs)(t.p,{children:["The fixed follow camera is a type of third-person camera which follows the target at exactly the same distance and angle at all times. This type of camera is very easy to implement. In fact you\xa0",(0,n.jsx)(t.em,{children:"could"}),"\xa0set it up just by setting the Camera entity as a child of the tank. We're going to show you how to do it in code though."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"updateFixedFollow: function (dt) {\n    this.entity.setPosition(this.target.getPosition());\n    this.entity.setRotation(this.target.getRotation());\n    this.entity.rotateLocal(this.elevation, 0, 0);\n    this.entity.translateLocal(0, 0, this.distance);\n},\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This function sets the camera to be at the same position and\xa0rotation as the target (the target in our code is the player's tank). Then we rotate by the ",(0,n.jsx)(t.code,{children:"this.elevation"})," value and move the camera backwards (backwards is along positive z axis) by the ",(0,n.jsx)(t.code,{children:"this.distance"})," value."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Try at home:"})," Try modifying the elevation and distance to setup up and overhead camera like the one in the picture."]}),"\n",(0,n.jsx)(t.h3,{id:"trailing-follow-camera",children:"Trailing Follow Camera"}),"\n",(0,n.jsx)(t.p,{children:"The trailing follow camera is a slightly more advanced form of third-person camera which follows the target, but it is always trying to catch up to where the fixed follow camera\xa0would be. This gives a smoother motion, but can lead to the camera loosing the player if\xa0it trails too much."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"updateTrailingFollow: function (dt) {\n    var pos = new pc.Vec3();\n    var rot = new pc.Quat();\n\n    // store initial position and rotation\n    pos.copy(this.entity.getPosition());\n    rot.copy(this.entity.getRotation());\n\n    // set entity to be at target position and rotation\n    this.entity.setPosition(this.target.getPosition());\n    this.entity.setRotation(this.target.getRotation());\n    this.entity.rotateLocal(this.elevation, 0, 0);\n    this.entity.translateLocal(0, 0, this.distance);\n\n    // interpolate start pos/rot to target pos/rot\n    pos.lerp(pos, this.entity.getPosition(), this.positionFactor);\n    rot.slerp(rot, this.entity.getRotation(), this.rotationFactor);\n\n    // Set to interpolated position\n    this.entity.setPosition(pos);\n    this.entity.setRotation(rot);\n}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["In this function we store the current position and rotation, calculate the position of the fixed follow camera and then use ",(0,n.jsx)(t.code,{children:"lerp()"})," and ",(0,n.jsx)(t.code,{children:"slerp()"})," to interpolate the position. ",(0,n.jsx)(t.code,{children:"lerp"})," and ",(0,n.jsx)(t.code,{children:"slerp"})," stand for Linear intERPolation and Spherical Linear intERPolation. This is a way of moving between two values by\xa0supplying a value between 0 and 1. In this case we use the ",(0,n.jsx)(t.code,{children:"positionFactor"})," and ",(0,n.jsx)(t.code,{children:"rotationFactor"})," as the input to the interpolation."]}),"\n",(0,n.jsx)(t.p,{children:"Finally we update the\xa0position and rotation to the\xa0final values."}),"\n",(0,n.jsx)(t.p,{children:"This a very simple implementation of a trailing camera. There are all kinds of ways you can\xa0implement one. Another method is to use a\xa0spring simulation to attach the camera to the target point. Then you can adjust the stiffness of the spring to modify how much the camera trails."}),"\n",(0,n.jsx)(t.h3,{id:"look-at-camera",children:"Look At Camera"}),"\n",(0,n.jsx)(t.p,{children:"The final type of camera is a static\xa0look at camera.\xa0The camera never moves but just aims at the target."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"updateLookAt: function (dt) {\n    this.entity.lookAt(this.target.getPosition());\n},\n"})}),"\n",(0,n.jsx)(t.p,{children:"This code needs no explanation."}),"\n",(0,n.jsx)(t.h3,{id:"script-attributes",children:"Script Attributes"}),"\n",(0,n.jsx)(t.p,{children:"The final\xa0tip to share is how to use script attributes to expose values your code needs into the Designer."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'pc.script.attribute("elevation", "number", -30);\npc.script.attribute("distance", "number", 5);\npc.script.attribute("positionFactor", "number", 0.2);\npc.script.attribute("rotationFactor", "number", 0.2);\n'})}),"\n",(0,n.jsxs)(t.p,{children:["This code at the top of the camera script, tells the designer to expose four values ",(0,n.jsx)(t.code,{children:"elevation"}),", ",(0,n.jsx)(t.code,{children:"distance"}),", ",(0,n.jsx)(t.code,{children:"positionFactor"})," and\xa0",(0,n.jsx)(t.code,{children:"rotationFactor"})," and show them as editable numbers in the Designer."]}),"\n",(0,n.jsxs)(t.p,{children:["Back in the Designer, we need to load the script attributes from the script using the ",(0,n.jsx)(t.em,{children:"Entity -> Refresh Script Attributes"})," menu item. Then we'll see this attribute block appear on\xa0the script component."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:a(55320).A+"",children:(0,n.jsx)(t.img,{alt:"PLAYHACK_Camera",src:a(17510).A+"",width:"254",height:"262"})})}),"\n",(0,n.jsx)(t.p,{children:"Modifying these values will directly update the script live when it is running from the\xa0Designer. So you can tweak values with the live game\xa0running\xa0in a separate tab. This can really accelerate your development."}),"\n",(0,n.jsxs)(t.p,{children:["That's it for now. Don't forget you can try running the ",(0,n.jsx)(t.a,{href:"https://playcanvas.com/editor/scene/343245",children:"Follow Camera Pack"})," in this\xa0",(0,n.jsx)(t.a,{href:"https://playcanvas.com/project/331849/overview/playhacknov",children:"Project"}),"\xa0to see\xa0all this code in action.\xa0Use the arrow keys to move the tank and press the Spacebar to cycle between the different camera types."]}),"\n",(0,n.jsx)(t.h3,{id:"playhack",children:"PLAYHACK"}),"\n",(0,n.jsx)(t.p,{children:"PLAYHACK is our monthly game jam. We\u2019ll give you a starting point and you have a month to build a game. The winner is featured on our frontpage and wins fame and glory everlasting!"}),"\n",(0,n.jsx)(t.p,{children:"Not started work on your PLAYHACK game yet? What are you waiting for go fork this project!"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://playcanvas.com/project/331485/overview/playhack-nov-14",children:(0,n.jsx)(t.img,{alt:"button",src:a(80249).A+"",width:"675",height:"136"})})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},55320:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/files/PLAYHACK_Camera-d7ad9f6481ec80451605426f15eb2944.jpg"},59971:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/files/playhack-tank-9d00731067ceda7112769d44a5ed662f.jpg"},17510:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/PLAYHACK_Camera-d7ad9f6481ec80451605426f15eb2944.jpg"},80249:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/button-1-19f515d919358108275e0c2286422210.png"},73333:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/playhack-tank-9d00731067ceda7112769d44a5ed662f.jpg"},28453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>r});var n=a(96540);const o={},i=n.createContext(o);function s(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);