"use strict";(self.webpackChunk_playcanvas_blog=self.webpackChunk_playcanvas_blog||[]).push([[11302],{83255:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var s=t(74848),r=t(28453);const i={authors:"will",slug:"playcanvas-versus-unity-webgl",title:"PlayCanvas versus Unity WebGL",tags:["unity","performance"]},a=void 0,l={permalink:"/playcanvas-versus-unity-webgl",editUrl:"https://github.com/playcanvas/blog/tree/main/blog/2016-08-04-playcanvas-versus-unity-webgl.md",source:"@site/blog/2016-08-04-playcanvas-versus-unity-webgl.md",title:"PlayCanvas versus Unity WebGL",description:"A question we get asked a lot\xa0is \"How does PlayCanvas compare to Unity's WebGL export?\". So let's examine this in a blog post.",date:"2016-08-04T00:00:00.000Z",tags:[{label:"unity",permalink:"/tags/unity"},{label:"performance",permalink:"/tags/performance"}],readingTime:5.455,hasTruncateMarker:!1,authors:[{name:"Will Eastcott",title:"CEO",url:"https://twitter.com/willeastcott",imageURL:"https://pbs.twimg.com/profile_images/2635146631/edcd8b6dc4a34625770095941519ca8a_400x400.png",key:"will"}],frontMatter:{authors:"will",slug:"playcanvas-versus-unity-webgl",title:"PlayCanvas versus Unity WebGL",tags:["unity","performance"]},unlisted:!1,prevItem:{title:"PlayCanvas versus Unreal WebGL",permalink:"/playcanvas-versus-unreal-webgl"},nextItem:{title:"Organizations & new plans",permalink:"/organizations-new-plans"}},d={authorsImageUrls:[void 0]},o=[{value:"Download Size",id:"download-size",level:3},{value:"Load Time",id:"load-time",level:3},{value:"Frame Rate",id:"frame-rate",level:3},{value:"Conclusion",id:"conclusion",level:3},{value:"<strong>Update</strong>",id:"update",level:3}];function h(e){const n={a:"a",em:"em",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"A question we get asked a lot\xa0is \"How does PlayCanvas compare to Unity's WebGL export?\". So let's examine this in a blog post."}),"\n",(0,s.jsx)(n.p,{children:"But first, let me quickly introduce Unity and PlayCanvas to the uninitiated. Unity is a game engine provided as a native, desktop application for Windows, Mac and Linux.\xa0PlayCanvas is an HTML5/WebGL game engine that is provided as a web application that runs in any browser on any operating system."}),"\n",(0,s.jsx)(n.p,{children:"For the purpose of this article, we're keeping things simple. We've created the 'Hello World' of apps in both Unity 5.3.2 and PlayCanvas: a spinning, textured cube:"}),"\n",(0,s.jsx)("div",{className:"iframe-container",children:(0,s.jsx)("iframe",{loading:"lazy",src:"https://playcanv.as/b/5bLMNnvC/",title:"360 lookaround camera",webkitallowfullscreen:"true",mozallowfullscreen:"true",allow:"autoplay",allowfullscreen:"true",allowvr:"",scrolling:"no",frameborder:"0"})}),"\n",(0,s.jsxs)(n.p,{children:["The application above is the PlayCanvas app. I'm not embedding\xa0the Unity app since it can crash the page (if you're feeling brave, click ",(0,s.jsx)(n.a,{href:"http://unity-comparison.playcanvas.com/perf1e/unity/index.html",children:"here"})," to run it in a new tab)."]}),"\n",(0,s.jsx)(n.p,{children:"We decided to look at 3 key metrics: download size, load time and frame rate."}),"\n",(0,s.jsx)(n.h3,{id:"download-size",children:"Download Size"}),"\n",(0,s.jsx)(n.p,{children:"To check the download size of each app, we disabled the cache in Chrome Dev Tools and recorded the total transfer:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Unity"}),(0,s.jsx)(n.th,{children:"PlayCanvas"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"4.72MB"}),(0,s.jsx)(n.td,{children:"0.22MB"})]})})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The Unity app is over 21 times larger than the PlayCanvas app"}),". How is this possible? The PlayCanvas engine is a miniscule 147KB when GZIPped meaning the code and assets for the app account for the remaining 73KB. The engine is so small because it is hand-crafted in JavaScript, relying on as much functionality as possible from the browser itself."]}),"\n",(0,s.jsx)(n.p,{children:"Unity, on the other hand, relies on Emscripten to export to WebGL. This tool auto-converts C# code to C++, which in turn is compiled to LLVM before finally being turned into JavaScript. A side effect of this process is the generation of huge amounts of code, which bloats the exported application, overwhelms modern JavaScript engines and often causes the browser to run out of memory."}),"\n",(0,s.jsx)(n.h3,{id:"load-time",children:"Load Time"}),"\n",(0,s.jsx)(n.p,{children:"We ran both apps on 12 different devices, from low end to high end. These were the recorded load times on a 50Mb/s connection to the net:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Device"}),(0,s.jsx)(n.th,{children:"Browser"}),(0,s.jsx)(n.th,{children:"Unity (s)"}),(0,s.jsx)(n.th,{children:"PlayCanvas (s)"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPhone 4S"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"Crash"}),(0,s.jsx)(n.td,{children:"2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPhone 5S"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"18"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPhone 6"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"17"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPad Mini 2"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"21"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy Tab S2"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"19"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy Note 10.1 2014"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"28"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy S6 Edge"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"28"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy Note 4"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"28"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LG Nexus 4"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"44"}),(0,s.jsx)(n.td,{children:"2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Leapfrog Epic"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"43"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Blackberry Z10"}),(0,s.jsx)(n.td,{children:"Default Browser"}),(0,s.jsx)(n.td,{children:"Crash"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PC (Core i7 + GeForce GTX 880M)"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"13"}),(0,s.jsx)(n.td,{children:"1"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Key things to notice:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"The PlayCanvas app's load times are up to 43 times faster than the Unity app."})}),"\n",(0,s.jsx)(n.li,{children:"The Unity app fails to even load on lower end devices. The sheer amount of JavaScript causes the browser on those devices to run out of memory loading the page."}),"\n",(0,s.jsx)(n.li,{children:"Load times for Unity are up to twice as slow in Chrome as Safari. This could be down to Chrome spending more time preparing the app's\xa0huge\xa0JavaScript codebase for execution."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"frame-rate",children:"Frame Rate"}),"\n",(0,s.jsx)(n.p,{children:"Here are the frame rates recorded for the same set of devices:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Device"}),(0,s.jsx)(n.th,{children:"Browser"}),(0,s.jsx)(n.th,{children:"Unity (fps)"}),(0,s.jsx)(n.th,{children:"PlayCanvas (fps)"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPhone 4S"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"Crash"}),(0,s.jsx)(n.td,{children:"58"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPhone 5S"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"21"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPhone 6"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"28"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"iPad Mini 2"}),(0,s.jsx)(n.td,{children:"Safari"}),(0,s.jsx)(n.td,{children:"16"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy Tab S2"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"17-55"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy Note 10.1 2014"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"15-50"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy S6 Edge"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"15-50"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Samsung Galaxy Note 4"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"15-57"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LG Nexus 4"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"15-50"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Leapfrog Epic"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"16-55"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Blackberry Z10"}),(0,s.jsx)(n.td,{children:"Default Browser"}),(0,s.jsx)(n.td,{children:"Crash"}),(0,s.jsx)(n.td,{children:"60"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PC (Core i7 + GeForce GTX 880M)"}),(0,s.jsx)(n.td,{children:"Chrome 51"}),(0,s.jsx)(n.td,{children:"57-60"}),(0,s.jsx)(n.td,{children:"60"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Key things to notice:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PlayCanvas frame rates are up to 4 times greater than Unity."})," In particular, Unity seems to perform poorly in Safari on iOS."]}),"\n",(0,s.jsx)(n.li,{children:"Unity exhibits very unstable performance in Chrome for Android. Initially, the app's frame rate is in the mid to high teens for approximately 20 seconds before it starts to rise to a number in the 50s. At that point it, it regularly drops frames and never reaches a solid 60FPS."}),"\n",(0,s.jsx)(n.li,{children:"PlayCanvas easily locks to 60FPS across all devices except iPhone 4S where an occasional frame is dropped. Ideally, a much heavier stress test would be required to start taxing PlayCanvas."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"To summarize:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Unity WebGL apps are up to 21 times larger."})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"PlayCanvas apps load up to 43 times faster."})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"PlayCanvas app frame rates are up to 4 times higher."})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Even for the most basic of 3D apps, Unity struggles to achieve anything close to acceptable download size, load time and frame rate. It's important not to somehow blame browser vendors or HTML5/WebGL for these results. As PlayCanvas proves, you can achieve incredible performance using these web technologies ",(0,s.jsx)(n.em,{children:"today"})," as long as a sensible approach is taken when architecting an engine."]}),"\n",(0,s.jsxs)(n.p,{children:["To learn how PlayCanvas built an engine so optimized for the browser, head over to ",(0,s.jsx)(n.a,{href:"https://github.com/playcanvas/engine",children:"GitHub"})," to explore the open sourced runtime. And if you want to start building with PlayCanvas today, sign up on ",(0,s.jsx)(n.a,{href:"https://playcanvas.com",children:"playcanvas.com"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"update",children:(0,s.jsx)(n.strong,{children:"Update"})}),"\n",(0,s.jsxs)(n.p,{children:["If you want to look at the original projects that built the two apps used in the article, ",(0,s.jsx)(n.a,{href:"http://unity-comparison.playcanvas.com/perf1e/downloads/unity_webgl_perf_test.zip",children:"here"})," is the Unity project, and ",(0,s.jsx)(n.a,{href:"https://playcanvas.com/project/408739/overview/perf1",children:"here"})," is the PlayCanvas project. After publishing this article, we noticed that the Unity project disables hardware anti-aliasing and uses bilinear filtering on the textures, whereas PlayCanvas enables AA and trilinear on the textures. So PlayCanvas is actually doing more work here."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(96540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);